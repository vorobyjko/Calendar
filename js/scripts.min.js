!function(){var a=[],b=function(a){if(a instanceof Array)for(var b=a.length-1;b>=0;b--)"function"==typeof a[b]&&a[b]()},c=function(){"undefined"==typeof Element.prototype.addEventListener&&(Element.prototype.addEventListener=function(a,b){return a="on"+a,this.attachEvent(a,b)})};Date.prototype.daysInMonth=function(a){for(var b=33-new Date(this.getFullYear(),a||this.getMonth(),33).getDate(),c=[],d=1;b>=d;d++)c.push(d);return c};var d=function(){var a,b;b=document.getElementById("search"),b.addEventListener("focus",function(b){a=this.placeholder,this.placeholder=""}),b.addEventListener("blur",function(b){0===this.placeholder.length&&(this.placeholder=a)})},e=function(){function a(){for(var a,c,d=5,e=0,f=1;d>=f;f++){a=document.createElement("tr"),k.appendChild(a);for(var h=1;h<=g.length;h++)e++,c=document.createElement("td"),c.width=parseInt(m.clientWidth/g.length),c.height=c.width,k.lastChild.appendChild(c)}b(j)}function b(a,b){for(var c=31,e=0,h=k.querySelectorAll("td"),i=f.daysInMonth(a),l=f.daysInMonth(a-1),m=0;m<h.length;m++)b&&(h[m].innerHTML="",h[m].className="",f.setMonth(a)),m<g.length&&(h[m].innerHTML=g[m]+", "),m>=4?(h[m].innerHTML+=i[e++]||1,h[m].setAttribute("id",e+"-"+a),i[e]===f.getDate()&&(h[m+1].className=f.getMonth()===j?"todayHighlidth":"")):(l=l.slice(-h.length+c),h[m].innerHTML+=l[m],h[m].setAttribute("id",l[m]+"-"+Number(a-1)));d({date:"9.5.2015",eventTitle:"Напиться",eventDescription:"Витя Костин, Петр Михайлов"},{date:"22.5.2015",eventTitle:"ДР!",eventDescription:"Дима Молодцов"})}function c(){var a=document.getElementById("prevBtn"),c=document.getElementById("nextBtn"),d=function(a){var c=this.id||a.srcElement.id,d="prevBtn"===c?f.getMonth()-1:f.getMonth()+1;b(d,!0),document.getElementById("year").innerHTML=h[f.getMonth()]+" "+i};a.addEventListener("click",d),c.addEventListener("click",d)}function d(){for(var a="<p id='eventTitle'></p><p id='eventDescription'></p>",b=0;b<arguments.length;b++){var c=arguments[b].date.split(".")[0],d=arguments[b].date.split(".")[1]-1,e=c+"-"+d,f=document.getElementById(e);null!==f&&(f.className="addedEvent",f.innerHTML+=a,f.querySelector("#eventTitle").innerHTML+=arguments[b].eventTitle,f.lastChild.innerHTML+=arguments[b].eventDescription)}}function e(){var a=function(a){for(var b=k.querySelectorAll("td"),c=0;c<b.length;c++)b[c].width=parseInt(m.clientWidth/g.length),b[c].height=b[c].width};window.addEventListener?window.addEventListener("resize",a):window.onresize=a}var f,g,h,i,j,k,l,m;l=document.querySelector(".content"),k=document.getElementById("calendarTable"),m=document.getElementById("calendarWrapper"),f=new Date,g=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],h=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],i=f.getFullYear(),j=f.getMonth(),l.querySelector("#year").innerHTML=h[j],a(),c(),e()};a.push(d,e,c),b(a)}();