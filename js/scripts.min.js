!function(){var a=[],b=function(a){if(a instanceof Array)for(var b=a.length-1;b>=0;b--)"function"==typeof a[b]&&a[b]()},c=function(){"undefined"==typeof Element.prototype.addEventListener&&(Element.prototype.addEventListener=function(a,b){return a="on"+a,this.attachEvent(a,b)})};Date.prototype.daysInMonth=function(a){for(var b=33-new Date(this.getFullYear(),a||this.getMonth(),33).getDate(),c=[],d=1;b>=d;d++)c.push(d);return c};var d=function(){var a,b;b=document.getElementById("search"),b.addEventListener("focus",function(b){a=this.placeholder,this.placeholder=""}),b.addEventListener("blur",function(b){0===this.placeholder.length&&(this.placeholder=a)})},e=function(){function a(){for(var a,c,d=5,e=0,g=1;d>=g;g++){a=document.createElement("tr"),j.appendChild(a);for(var h=1;h<=f.length;h++)e++,c=document.createElement("td"),c.setAttribute("id",e),c.width=parseInt(l.clientWidth/f.length),c.height=c.width,j.lastChild.appendChild(c)}b(i)}function b(a,b){for(var c=31,g=0,h=j.querySelectorAll("td"),k=e.daysInMonth(a),l=e.daysInMonth(a-1),m=0;m<h.length;m++)b&&(h[m].innerHTML="",h[m].className="",e.setMonth(a)),m<f.length&&(h[m].innerHTML=f[m]+", "),m>=4?(h[m].innerHTML+=k[g++]||1,k[g]===e.getDate()&&(h[m+1].className=e.getMonth()===i?"todayHighlidth":"")):(l=l.slice(-h.length+c),h[m].innerHTML+=l[m]);e.getMonth()===i&&d({date:"9.05.2015",eventTitle:"Напиться",eventDescription:"Витя Костин, Петр Михайлов"},{date:"22.05.2015",eventTitle:"ДР!",eventDescription:"Дима Молодцов"})}function c(){var a=document.getElementById("prevBtn"),c=document.getElementById("nextBtn"),d=function(a){var c=this.id||a.srcElement.id,d="prevBtn"===c?e.getMonth()-1:e.getMonth()+1;b(d,!0),document.getElementById("year").innerHTML=g[e.getMonth()]+" "+h};a.addEventListener("click",d),c.addEventListener("click",d)}function d(){for(var a="<p id='eventTitle'></p><p id='eventDescription'></p>",b=0;b<arguments.length;b++){var c=parseInt(arguments[b].date.split(".")[0])+4,d=document.getElementById(c);d.className+="addedEvent",d.innerHTML+=a,d.querySelector("#eventTitle").innerHTML+=arguments[b].eventTitle,d.lastChild.innerHTML+=arguments[b].eventDescription}}var e,f,g,h,i,j,k,l;k=document.querySelector(".content"),j=document.getElementById("calendarTable"),l=document.getElementById("calendarWrapper"),e=new Date,f=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],g=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],h=e.getFullYear(),i=e.getMonth(),k.querySelector("#year").innerHTML=g[i],window.addEventListener("resize",function(a){for(var b=j.querySelectorAll("td"),c=0;c<b.length;c++)b[c].width=parseInt(l.clientWidth/f.length),b[c].height=b[c].width}),a(),c()};a.push(d,e,c),b(a)}();